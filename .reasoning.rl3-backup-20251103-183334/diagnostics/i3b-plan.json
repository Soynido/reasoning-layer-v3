{
  "phase": "I3-B: ExecPool Injection",
  "goal": "Replace all exec() calls with ExecPool.run() (pool=2, timeout=2s)",
  "modules_to_modify": 10,
  
  "sub_commits": [
    {
      "id": "I3-B1",
      "title": "Core git engines (GitMetadataEngine, GitCommitListener, GitHistoryScanner)",
      "files": [
        "extension/core/GitMetadataEngine.ts",
        "extension/core/inputs/GitCommitListener.ts",
        "extension/core/retroactive/scanners/GitHistoryScanner.ts"
      ],
      "exec_calls_count": 12,
      "strategy": "Inject ExecPool instance, replace execAsync with pool.run()",
      "validation": "grep 'execAsync' on these 3 files returns 0"
    },
    {
      "id": "I3-B2",
      "title": "Integration modules (GitHubCLI, GitHubDiscussion, FeatureMapper)",
      "files": [
        "extension/core/integrations/GitHubCLIManager.ts",
        "extension/core/inputs/GitHubDiscussionListener.ts",
        "extension/core/operational/FeatureMapper.ts"
      ],
      "exec_calls_count": 8,
      "strategy": "Add timeout logging, integrate pool metrics",
      "validation": "All git commands timeout after 2s"
    },
    {
      "id": "I3-B3",
      "title": "Utility modules (HumanContext, CognitiveSandbox, CodeScanner, gitUtils)",
      "files": [
        "extension/core/HumanContextManager.ts",
        "extension/core/environment/CognitiveSandbox.ts",
        "extension/core/execution/CodeScanner.ts",
        "extension/core/gitUtils.ts"
      ],
      "exec_calls_count": 6,
      "strategy": "Verify pool concurrency (max 2 concurrent)",
      "validation": "ExecPool metrics show max 2 active jobs"
    }
  ],
  
  "total_exec_calls": 26,
  "final_validation": "grep -R 'execAsync\\|child_process\\.exec' extension/core --include='*.ts' | wc -l â†’ should be 0"
}

