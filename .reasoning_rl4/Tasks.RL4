---
version: 3.1
updated: '2025-11-16T09:00:00.000Z'
bias: 0
---

# Tasks â€” Tactical TODOs

## Active (P0) â€” URGENT

### âœ… COMPLETED (Last 24h - Session du 16 Nov 2025)

**Phase 1: Core Infrastructure**
- [x] [P0] Create PromptOptimizer.ts (357 lines) @rl4:id=prompt-optimizer @rl4:verified="2025-11-16T06:00:00Z"
  - Compression mode strict: Focus P0, supprime redondances
  - Compression mode flexible: P0+P1, garde contexte riche
  - Compression mode exploratory/free: Minimal/aucune compression
  - Retourne mÃ©triques: originalSize, optimizedSize, reductionPercent

- [x] [P0] Create AnomalyDetector.ts (345 lines) @rl4:id=anomaly-detector @rl4:verified="2025-11-16T06:00:00Z"
  - DÃ©tection: sudden_change, regression, unusual_activity, bias_spike, plan_drift
  - Severity: low/medium/high/critical
  - Format: { type, severity, description, context, recommendation, timestamp }
  - Sauvegarde dans anomalies.jsonl

- [x] [P0] Update UnifiedPromptBuilder.ts @rl4:id=unified-prompt-metadata @rl4:verified="2025-11-16T06:00:00Z"
  - Retour modifiÃ©: `{ prompt: string, metadata: { anomalies, compression } }`
  - Appelle AnomalyDetector.detectAnomalies() avant gÃ©nÃ©ration
  - Appelle PromptOptimizer.optimize() aprÃ¨s gÃ©nÃ©ration
  - Sections ajoutÃ©es: Engine-Generated Data, Anomalies Detected
  - SchÃ©mas LLM: RL4_PROPOSAL, RL4_DECISION_REQUEST, RL4_TASKS_PATCH

- [x] [P0] Update AdaptivePromptBuilder.ts @rl4:id=adaptive-compat @rl4:verified="2025-11-16T06:00:00Z"
  - Fix: Extraction result.prompt pour backward compatibility
  - Maintient type retour Promise<string>

**Phase 2: Snapshot Reminder System**
- [x] [P0] Create SnapshotReminder.ts @rl4:id=snapshot-reminder @rl4:verified="2025-11-16T06:00:00Z"
  - Timer: check toutes les 30min si dernier snapshot >2h
  - getReminderContext(): Analyse Tasks.RL4 + cycles.jsonl â†’ recommande mode
  - showReminder(): VS Code info message avec CTAs (Generate & Copy / Remind me later)
  - Persistence: .last_snapshot_timestamp

**Phase 3: Extension Hub Integration**
- [x] [P0] Integrate SnapshotReminder in extension.ts @rl4:id=extension-reminder @rl4:verified="2025-11-16T06:00:00Z"
  - Initialisation + start()
  - recordSnapshotGenerated() aprÃ¨s snapshot
  - cleanup dans deactivate()

- [x] [P0] Add metadata to WebView @rl4:id=webview-metadata @rl4:verified="2025-11-16T06:00:00Z"
  - Message snapshotMetadata: { anomalies, compression }
  - Logs console pour debug

- [x] [P0] Create RL4 Terminal command @rl4:id=rl4-terminal @rl4:verified="2025-11-16T06:00:00Z"
  - Commande: reasoning.terminal.openRL4
  - CrÃ©e terminal "RL4 Terminal"
  - Initialise rl4TerminalEventsWriter (AppendOnlyWriter â†’ terminal-events.jsonl)
  - Pas de listener API VS Code (mode hacking, file-based)

**Phase 4: LLM Proposal Workflow**
- [x] [P0] Implement proposals.json workflow @rl4:id=proposals-workflow @rl4:verified="2025-11-16T06:00:00Z"
  - File created au dÃ©marrage avec template { suggestedTasks: [] }
  - FileWatcher envoie proposalsUpdated au WebView
  - Handler submitDecisions: gÃ©nÃ¨re preview RL4_TASKS_PATCH
  - Handler applyPatch: applique changements Ã  Tasks.RL4
  - Bias guard: vÃ©rifie threshold (25% flexible)
  - Structured logging: decisions.jsonl (preview_generated, patch_applied, apply_aborted_bias)

**Phase 5: WebView UI Complete**
- [x] [P0] Update App.tsx with 4 tabs @rl4:id=app-tabs @rl4:verified="2025-11-16T06:00:00Z"
  - Control: Snapshot generation + GitHub features
  - Dev: Validation tasks proposÃ©es + real-time tracking
  - Insights: KPI dashboard
  - About: Info cards

- [x] [P0] Add Dev Tab state @rl4:id=dev-state @rl4:verified="2025-11-16T06:00:00Z"
  - anomalies: Liste des anomalies dÃ©tectÃ©es
  - compressionMetrics: MÃ©triques de compression
  - proposals: TÃ¢ches proposÃ©es par LLM
  - patchPreview: Preview du patch RL4_TASKS_PATCH
  - devBadge: Compteur notifications
  - taskVerifications: Map<taskId, TaskVerification>

- [x] [P0] Add Dev Tab message handlers @rl4:id=dev-handlers @rl4:verified="2025-11-16T06:00:00Z"
  - snapshotMetadata: RÃ©ception anomalies + compression
  - proposalsUpdated: Mise Ã  jour liste propositions
  - patchPreview: Affichage patch avant application
  - taskLogChanged: RafraÃ®chissement aprÃ¨s application
  - taskVerificationResults: Affichage "Verified by RL4"
  - taskMarkedDone: Suppression verification aprÃ¨s marquage done

- [x] [P0] Create AnomaliesCard.tsx component @rl4:id=anomalies-card @rl4:verified="2025-11-16T06:00:00Z"
  - Affichage type + sÃ©vÃ©ritÃ© (ğŸ”´/ğŸŸ¡/ğŸŸ¢)
  - Description + contexte
  - Recommandations

**Phase 6: Task Verification Engine (TODAY)**
- [x] [P0] Create TasksRL4Parser.ts (108 lines) @rl4:id=tasks-parser @rl4:verified="2025-11-16T06:30:00Z"
  - Parse Tasks.RL4 et extrait markers @rl4:id / @rl4:completeWhen
  - Interface TaskRL4Marker { id, completeWhen[], rawText, lineNumber }
  - Method checkCondition(condition, event): vÃ©rifie si Ã©vÃ©nement satisfait condition
  - Patterns: exitCode 0, test passing, npm success, file created, git commit, output contains

- [x] [P0] Create TaskVerificationEngine.ts (195 lines) @rl4:id=verification-engine @rl4:verified="2025-11-16T06:30:00Z"
  - Interface TerminalEvent { timestamp, type, taskId?, command?, exitCode?, output? }
  - Interface TaskVerificationResult { taskId, verified, verifiedAt?, matchedConditions, matchedEvents, confidence, suggestion }
  - Method verifyAllTasks(): lit Tasks.RL4 + terminal-events.jsonl â†’ calcule verifications
  - Method calculateConfidence(): high (100% + exitCode 0), medium (>50%), low (<50%)
  - Cursor de lecture: lastProcessedLine (Ã©vite retraiter Ã©vÃ©nements)

- [x] [P0] Integrate TaskVerificationEngine in extension.ts @rl4:id=extension-verification @rl4:verified="2025-11-16T06:30:00Z"
  - Initialisation lazily au premier openRL4
  - VÃ©rification pÃ©riodique toutes les 10s
  - Envoie taskVerificationResults au WebView
  - Handler markTaskDone: remplace [ ] par [x] + ajoute @rl4:completedAt timestamp

- [x] [P0] Add Task Verification UI in Dev Tab @rl4:id=dev-verification-ui @rl4:verified="2025-11-16T06:30:00Z"
  - Section "âœ… Verified Tasks (RL4)"
  - Badge de confiance: HIGH (vert), MEDIUM (orange), LOW (gris)
  - Affichage conditions matchÃ©es + timestamp
  - Bouton "Mark as Done"
  - DÃ©tails pliables (conditions, Ã©vÃ©nements)

- [x] [P0] Compile & Package extension v3.5.8 @rl4:id=compile-package @rl4:verified="2025-11-16T06:30:00Z"
  - npm run compile (717 KiB)
  - npm run build webview (307.85 KiB)
  - No linting errors
  - Extension ready to test

**Phase 7: Terminal Patterns Learning (FINAL)** ğŸ§ 
- [x] [P0] Create TerminalPatternsLearner.ts (450+ lines) @rl4:id=pattern-learner @rl4:verified="2025-11-16T06:45:00Z"
  - Interface TaskPattern { taskId, typicalCommands[], successRate, avgDuration, runsCount, completeWhen }
  - Interface CommandClassification { command, phase, confidence }
  - Interface PatternAnomaly { taskId, type, severity, description, expected, actual, recommendation }
  - Method learnFromEvents(events): Analyse Ã©vÃ©nements et met Ã  jour patterns
  - Method suggestCompleteWhen(taskTitle): Auto-suggest based on fuzzy matching + heuristics
  - Method detectAnomalies(taskId, events): DÃ©tecte success rate drop, unusual duration, command change
  - Method classifyCommand(command): DÃ©tecte phase (setup/build/test/debug/deploy/document)
  - Persistence: terminal-patterns.json
  - Fuzzy matching: Jaccard similarity pour trouver tÃ¢ches similaires

**Phase 8: Automated Testing Suite** âœ…
- [x] [P0] Create comprehensive test automation script @rl4:id=test-automation @rl4:verified="2025-11-16T09:00:00Z"
  - 10 test suites, 46 tests total (45 passed, 1 minor pattern match)
  - Suite 1-7: Installation, structure, permissions, rules (100% pass)
  - Suite 8: Content validation (COMPLETED/Done section detection)
  - Suite 9: Snapshot reminder timestamp (ISO 8601 format)
  - Suite 10: Integration checks (terminal-events â†” Tasks.RL4 coherence, bias validation)
  - Test data: proposals.json (3 suggestions, 16% bias), terminal-events.jsonl (9 events, 4 tasks)
  - Validation: File structure, JSONL format, JSON schemas, marker presence
  - Success rate: 97.8%

### ğŸ”¥ CURRENT SPRINT (Dev Tab Completion)

#### **Phase 1: Auto-parsing LLM Response**
- [ ] [P0] Ajouter commande `parseLLMResponse` dans extension.ts
  - Handler lit clipboard (`vscode.env.clipboard.readText()`)
  - Regex cherche bloc `RL4_PROPOSAL` (supporte JSON fenced ou raw)
  - Parse JSON et extrait `suggestedTasks[]`
  - Ã‰crit dans `.reasoning_rl4/proposals.json`
  - Envoie message `proposalsParsed` Ã  WebView
  - @rl4:id=parse-llm @rl4:completeWhen="npm test -- parseLLMResponse"

- [ ] [P0] Ajouter bouton "ğŸ“‹ Parse LLM Response" dans Control Tab
  - Positionner aprÃ¨s "Generate Snapshot"
  - Appelle `window.vscode.postMessage({ type: 'parseLLMResponse' })`
  - Affiche feedback : "âœ… X proposals parsed"
  - @rl4:id=ui-parse-button

#### **Phase 2: Terminal Helper Scripts**
- [ ] [P0] CrÃ©er `scripts/rl4-log.js` (Node.js helper)
  - Fonction `logTaskStart(id, command)`
  - Fonction `logTaskResult(id, status, exitCode)`
  - Ã‰crit dans `.reasoning_rl4/terminal-events.jsonl` (append)
  - Format : `{ type, timestamp, taskId, command?, status?, exitCode?, terminal: "RL4" }`
  - @rl4:id=helper-node @rl4:completeWhen="node scripts/rl4-log.js --test"

- [ ] [P0] CrÃ©er `scripts/rl4-log.sh` (Bash helper)
  - Fonctions `rl4_task_start()` et `rl4_task_result()`
  - Echo marqueurs `# RL4_TASK_START` / `# RL4_TASK_RESULT`
  - Optionnel : Ã‰crit aussi dans terminal-events.jsonl
  - @rl4:id=helper-bash @rl4:completeWhen="bash scripts/rl4-log.sh test"

- [ ] [P0] CrÃ©er README pour Terminal RL4
  - Documentation des marqueurs `# RL4_TASK_*`
  - Exemples d'utilisation des scripts
  - Format attendu dans terminal-events.jsonl
  - @rl4:id=terminal-docs

#### **Phase 3: TaskVerificationEngine**
- [ ] [P0] CrÃ©er `extension/kernel/api/TaskVerificationEngine.ts`
  - Interface `TerminalEvent { type, timestamp, taskId, command?, status?, exitCode?, durationMs? }`
  - Interface `TaskMetadata { id, title, rl4Id?, completeWhen?, priority }`
  - Interface `TaskVerification { taskId, verified, lastEvent?, verifiedAt?, duration? }`
  - MÃ©thode `loadTerminalEvents(since?: Date): TerminalEvent[]`
  - MÃ©thode `parseTaskMetadata(tasksContent: string): TaskMetadata[]`
  - MÃ©thode `verifyTasks(tasks, events): TaskVerification[]`
  - @rl4:id=verification-engine @rl4:completeWhen="npm test -- TaskVerificationEngine"

- [ ] [P0] Ã‰tendre `PlanTasksContextParser.ts` pour parser `@rl4:id`
  - Regex pour extraire `@rl4:id=([A-Za-z0-9_\-:.]+)`
  - Regex pour extraire `@rl4:completeWhen="([^"]+)"`
  - Ajouter champs `rl4Id?` et `completeWhen?` Ã  l'interface Task
  - @rl4:id=parser-metadata @rl4:completeWhen="npm test -- PlanTasksContextParser"

#### **Phase 4: Integration Dev Tab**
- [ ] [P0] Ajouter handler `refreshTaskVerification` dans extension.ts
  - Instancier `TaskVerificationEngine`
  - Charger `Tasks.RL4` et `terminal-events.jsonl`
  - Calculer verifications
  - Envoyer Ã  WebView : `{ type: 'taskVerificationsUpdated', payload: verifications[] }`
  - @rl4:id=handler-verification

- [ ] [P0] Ajouter state `taskVerifications` dans App.tsx
  - State: `Map<string, TaskVerification>`
  - Listener message `taskVerificationsUpdated`
  - Merge avec proposals existantes
  - @rl4:id=ui-verification-state

- [ ] [P0] Afficher badge "âœ… Verified by RL4" dans Dev Tab
  - Pour chaque proposal, checker si `taskVerifications.has(item.rl4Id)`
  - Si verified: afficher badge vert avec timestamp
  - Style : `{ color: '#4caf50', fontSize: '10px', fontWeight: 'bold' }`
  - @rl4:id=ui-verified-badge

- [ ] [P0] Auto-refresh verification toutes les 30s
  - `setInterval(() => refreshTaskVerification(), 30000)`
  - DÃ©clencher aussi au clic sur Dev Tab
  - @rl4:id=auto-refresh

#### **Phase 5: Auto-Completion & Mark as Done** ğŸš€
- [ ] [P0] Ajouter handler `markTaskDone` dans extension.ts
  - Lit Tasks.RL4
  - Trouve ligne avec `@rl4:id=taskId`
  - Remplace `- [ ]` par `- [x]` + timestamp
  - Log dans decisions.jsonl: `{ event: 'task_completed', taskId, trigger: 'terminal', verified: true }`
  - @rl4:id=mark-done-handler @rl4:completeWhen="npm test -- markTaskDone"

- [ ] [P0] Ajouter bouton "Mark as Done" dans Dev Tab
  - AffichÃ© seulement si task.verified === true
  - Style: Bouton vert proÃ©minent
  - onClick: envoie `{ type: 'markTaskDone', taskId }`
  - Feedback: "âœ… Task marked as done"
  - @rl4:id=mark-done-ui

#### **Phase 6: Ad-Hoc Actions Tracking** ğŸ”§
- [ ] [P0] CrÃ©er `extension/kernel/api/AdHocTracker.ts`
  - Interface `AdHocAction { id, timestamp, description, files[], status, command? }`
  - MÃ©thode `trackAction(description, files, command)`
  - MÃ©thode `loadActions(since?: Date): AdHocAction[]`
  - Ã‰crit dans `.reasoning_rl4/ad-hoc-actions.jsonl`
  - @rl4:id=adhoc-tracker @rl4:completeWhen="npm test -- AdHocTracker"

- [ ] [P0] Support marqueurs `# RL4_ACTION` dans scripts
  - Format: `# RL4_ACTION adhoc=true description="..." files="..."`
  - Format result: `# RL4_ACTION_RESULT id=adhoc-001 status=success`
  - Parser dans rl4-log.js/sh
  - @rl4:id=adhoc-markers

- [ ] [P0] Enrichir snapshot avec ad-hoc actions
  - Section "Ad-hoc actions (last 24h)" dans UnifiedPromptBuilder
  - Liste description + files + timestamp
  - LLM peut proposer tasks basÃ©es sur ad-hoc
  - @rl4:id=snapshot-adhoc

- [ ] [P0] Afficher "Suggested from activity" dans Dev Tab
  - Nouvelle section sous "Proposed Tasks"
  - Badge ğŸ’¡ pour diffÃ©rencier des proposals normales
  - Boutons: [Accept P0/P1] [Backlog] [Ignore Forever]
  - @rl4:id=adhoc-ui

#### **Phase 7: Terminal Patterns Learning** ğŸ§ 
- [ ] [P0] CrÃ©er `extension/kernel/api/TerminalPatternsLearner.ts`
  - Interface `TaskPattern { taskId, typicalCommands[], successRate, avgDuration, runsCount }`
  - Interface `CommandClassification { command, phase }`
  - MÃ©thode `learnFromEvents(events: TerminalEvent[]): void`
  - MÃ©thode `suggestCompleteWhen(taskTitle: string): string?`
  - MÃ©thode `detectAnomalies(taskId, events): Anomaly[]`
  - Persist dans `.reasoning_rl4/terminal-patterns.json`
  - @rl4:id=pattern-learner @rl4:completeWhen="npm test -- TerminalPatternsLearner"

- [ ] [P0] Apprentissage automatique toutes les 30min
  - Job background dans CognitiveScheduler
  - AgrÃ¨ge terminal-events.jsonl (last 24h)
  - Update terminal-patterns.json
  - Log stats: `{ learned: 3 patterns, updated: 5 patterns }`
  - @rl4:id=pattern-learning-job

- [ ] [P0] Auto-suggestion `@rl4:completeWhen`
  - Quand nouvelle task ajoutÃ©e sans metadata
  - Cherche pattern similaire (fuzzy match titre)
  - Propose dans Dev Tab: "ğŸ’¡ Suggested: @rl4:completeWhen=..."
  - Boutons: [Apply] [Edit] [Ignore]
  - @rl4:id=suggest-completewhen

- [ ] [P0] Anomaly detection basÃ©e sur patterns
  - DÃ©tecte: success rate drop, unusual duration, command change
  - Affiche dans Insights Tab (AnomaliesCard)
  - Type: 'unusual_activity' avec context
  - Recommandation: "Check recent commits / dependencies"
  - @rl4:id=pattern-anomalies

#### **Phase 8: Testing & Documentation**
- [ ] [P0] Test workflow complet end-to-end
  1. GÃ©nÃ©rer snapshot en mode Exploratory
  2. Coller rÃ©ponse LLM â†’ Parse proposals
  3. Accepter une tÃ¢che â†’ Patch applied
  4. ExÃ©cuter dans RL4 Terminal avec marqueurs
  5. VÃ©rifier badge "Verified by RL4" apparaÃ®t
  6. Cliquer "Mark as Done" â†’ Task cochÃ©e
  7. Faire action ad-hoc â†’ VÃ©rifier tracking
  8. Attendre learning â†’ VÃ©rifier suggestions
  - @rl4:id=e2e-test @rl4:completeWhen="manual verification"

- [ ] [P0] Documenter workflow dans README.md
  - Section "Dev Tab Workflow"
  - Section "Terminal RL4 Usage"
  - Section "Ad-Hoc Actions"
  - Section "Pattern Learning"
  - Exemples de marqueurs RL4_TASK_* / RL4_ACTION
  - Screenshots si possible
  - @rl4:id=docs-workflow

#### **Phase 9: Memory Optimization (LATER)** ğŸ”§
- [ ] [P1] Fix retainContextWhenHidden in extension.ts
  - Changer `retainContextWhenHidden: true` â†’ `false` (ligne ~365)
  - Raison: WebView consomme 1.7 GB car contexte gardÃ© en mÃ©moire mÃªme fermÃ©
  - Impact attendu: RÃ©duction ~1 GB quand dashboard fermÃ©
  - @rl4:id=webview-retain-false @rl4:completeWhen="grep retainContextWhenHidden.*false extension/extension.ts"

- [ ] [P1] Remove 10s verification interval polling
  - Supprimer `setInterval(() => { ... }, 10000)` (ligne ~313-329)
  - Remplacer par event-driven: FileWatcher sur terminal-events.jsonl
  - Raison: Polling consomme CPU + accumule rÃ©sultats en RAM
  - @rl4:id=remove-polling @rl4:completeWhen="! grep -n 'setInterval.*10000' extension/extension.ts"

- [ ] [P1] Add React.memo to expensive components
  - Wrapper CognitiveLoadCard, NextStepsCard, AnomaliesCard avec React.memo
  - Add useMemo pour calculs lourds (parseContextRL4, etc.)
  - Raison: Re-renders inutiles consomment RAM
  - @rl4:id=react-memo @rl4:completeWhen="grep -c React.memo webview/ui/src/components/*.tsx | grep -v :0"

- [ ] [P1] Dispose FileWatchers when WebView closed
  - Stocker watchers dans array, dispose dans webviewPanel.onDidDispose
  - Raison: 5 watchers actifs 24/7 mÃªme dashboard fermÃ©
  - @rl4:id=cleanup-watchers @rl4:completeWhen="grep onDidDispose.*dispose.*watcher extension/extension.ts"

- [ ] [P1] Document memory optimization results
  - CrÃ©er MEMORY_OPTIMIZATION_RESULTS.md avec avant/aprÃ¨s
  - Mesurer: Extension Host + Cursor Helper (Renderer)
  - Target: <300 MB total (vs 1.9 GB actuel)
  - @rl4:id=memory-docs

## Active (P1) â€” HIGH PRIORITY

- [ ] [P1] Ajouter historique des dÃ©cisions dans Dev Tab
  - Lire `.reasoning_rl4/ledger/decisions.jsonl`
  - Afficher timeline des acceptations/rejets
  - Filtrer par date (derniÃ¨res 24h)

- [ ] [P1] AmÃ©liorer dÃ©tection duplicates
  - Comparer titre + why avec tÃ¢ches existantes (fuzzy matching)
  - Afficher score de similaritÃ©
  - SuggÃ©rer merge si > 80% similaire

- [ ] [P1] Ajouter export proposals vers markdown
  - Bouton "Export to Markdown"
  - Format : liste checkbox avec mÃ©tadonnÃ©es
  - Copie dans clipboard

## Backlog (P2+) â€” FUTURE

- [ ] [P2] Badge persistence (state file)
- [ ] [P2] Terminal patterns learning (terminal-patterns.json)
- [ ] [P2] Ad-hoc actions detection (ad-hoc-actions.jsonl)
- [ ] [P2] Task completion rate KPI (Insights Tab)
- [ ] [P2] Auto-suggest @rl4:completeWhen based on task type
- [ ] [P3] Visual timeline des task executions
- [ ] [P3] Integration avec GitHub Actions (CI/CD verification)

## Completed (Last Session)

- [x] Analyse exhaustive du MD (112295 lignes)
- [x] Identification composants manquants (AnomaliesCard, App.tsx tabs, Terminal)
- [x] Extraction contenus finaux fichiers RL4 depuis MD
- [x] Enrichissement Plan/Tasks/Context/ADRs.RL4
- [x] CrÃ©ation Plan de restauration dÃ©taillÃ©
- [x] Restauration code complet (3 fichiers modifiÃ©s/crÃ©Ã©s)
- [x] Build + Package + Install extension v3.5.8
- [x] Fix erreur React import
- [x] Rebuild + Reinstall extension (version corrigÃ©e)

## Notes de DÃ©veloppement

### Format Tasks.RL4 avec mÃ©tadonnÃ©es RL4
```markdown
- [ ] [P0] Task title @rl4:id=unique-id @rl4:completeWhen="exitCode=0"
- [x] [P0] Completed task @rl4:id=task-001 @rl4:verified="2025-11-16T04:30:00Z"
```

### Format terminal-events.jsonl
```json
{"type":"task_start","timestamp":"2025-11-16T04:15:00.000Z","taskId":"task-001","command":"npm test","terminal":"RL4"}
{"type":"task_result","timestamp":"2025-11-16T04:15:05.000Z","taskId":"task-001","status":"success","exitCode":0,"durationMs":5000,"terminal":"RL4"}
```

### Marqueurs Terminal RL4
```bash
# Format complet
echo '# RL4_TASK_START id=task-001 command="npm test"'
npm test
echo '# RL4_TASK_RESULT id=task-001 status=success exitCode=0'

# Format minimal (via helper)
source scripts/rl4-log.sh
rl4_task_start "task-001" "npm test"
npm test
rl4_task_result "task-001" "success" $?
```


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ§ª TEST TASKS (Automated Testing)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Test Tasks - DO NOT MODIFY (Used by automated tests)

- [ ] [P0] Run test suite @rl4:id=auto-test-001 @rl4:completeWhen="exitCode 0"
- [ ] [P0] Build project successfully @rl4:id=auto-test-002 @rl4:completeWhen="build success"
- [ ] [P0] Create verification file @rl4:id=auto-test-003 @rl4:completeWhen="file exists: .test-verification.txt"
- [ ] [P1] Install dependencies @rl4:id=auto-test-004 @rl4:completeWhen="npm install" @rl4:completeWhen="exitCode 0"



# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ§ª TEST TASKS (Automated Testing)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Test Tasks - DO NOT MODIFY (Used by automated tests)

- [ ] [P0] Run test suite @rl4:id=auto-test-001 @rl4:completeWhen="exitCode 0"
- [ ] [P0] Build project successfully @rl4:id=auto-test-002 @rl4:completeWhen="build success"
- [ ] [P0] Create verification file @rl4:id=auto-test-003 @rl4:completeWhen="file exists: .test-verification.txt"
- [ ] [P1] Install dependencies @rl4:id=auto-test-004 @rl4:completeWhen="npm install" @rl4:completeWhen="exitCode 0"



# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ§ª TEST TASKS (Automated Testing)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Test Tasks - DO NOT MODIFY (Used by automated tests)

- [ ] [P0] Run test suite @rl4:id=auto-test-001 @rl4:completeWhen="exitCode 0"
- [ ] [P0] Build project successfully @rl4:id=auto-test-002 @rl4:completeWhen="build success"
- [ ] [P0] Create verification file @rl4:id=auto-test-003 @rl4:completeWhen="file exists: .test-verification.txt"
- [ ] [P1] Install dependencies @rl4:id=auto-test-004 @rl4:completeWhen="npm install" @rl4:completeWhen="exitCode 0"



# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ§ª TEST TASKS (Automated Testing)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Test Tasks - DO NOT MODIFY (Used by automated tests)

- [ ] [P0] Run test suite @rl4:id=auto-test-001 @rl4:completeWhen="exitCode 0"
- [ ] [P0] Build project successfully @rl4:id=auto-test-002 @rl4:completeWhen="build success"
- [ ] [P0] Create verification file @rl4:id=auto-test-003 @rl4:completeWhen="file exists: .test-verification.txt"
- [ ] [P1] Install dependencies @rl4:id=auto-test-004 @rl4:completeWhen="npm install" @rl4:completeWhen="exitCode 0"



# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ§ª TEST TASKS (Automated Testing)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Test Tasks - DO NOT MODIFY (Used by automated tests)

- [ ] [P0] Run test suite @rl4:id=auto-test-001 @rl4:completeWhen="exitCode 0"
- [ ] [P0] Build project successfully @rl4:id=auto-test-002 @rl4:completeWhen="build success"
- [ ] [P0] Create verification file @rl4:id=auto-test-003 @rl4:completeWhen="file exists: .test-verification.txt"
- [ ] [P1] Install dependencies @rl4:id=auto-test-004 @rl4:completeWhen="npm install" @rl4:completeWhen="exitCode 0"



# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ğŸ§ª TEST TASKS (Automated Testing)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

## Test Tasks - DO NOT MODIFY (Used by automated tests)

- [ ] [P0] Run test suite @rl4:id=auto-test-001 @rl4:completeWhen="exitCode 0"
- [ ] [P0] Build project successfully @rl4:id=auto-test-002 @rl4:completeWhen="build success"
- [ ] [P0] Create verification file @rl4:id=auto-test-003 @rl4:completeWhen="file exists: .test-verification.txt"
- [ ] [P1] Install dependencies @rl4:id=auto-test-004 @rl4:completeWhen="npm install" @rl4:completeWhen="exitCode 0"

